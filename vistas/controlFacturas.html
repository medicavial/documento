<div id="contenedor" class="main" ng-init="inicio()">
    <div class="titulos">
        <a href="#/" class="icon-arrow-left"></a>
        <h1>{{tituloFQ}}</h1>
    </div>
<!--     <ul id="rb-grid-small" class="rb-grid-small clearfix">
        <li class="rb-span-1" id="color3">

            <h3></h3>
            <a href="#/formatoqualitasenviado">
                <span class="glyphicon glyphicon-check"></span>
            </a>
        </li>

    </ul> -->
    <legend>Fecha Atención</legend>
    <div class="row">
        <div class="col-sm-3 col-md-3">
            <input type="text" ng-model="datos.fechaini" class="form-control" id="datepicker" placeholder="inicial" />
        </div>
        <div class="col-sm-3 col-md-3">
            <div class="input-group">
                <input type="text" ng-model="datos.fechafin" class="form-control" id="datepicker2" placeholder="Final" />
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" ng-click="listadofacturasxfecha()"><i class="glyphicon glyphicon-search"></i></button>
                </span>
            </div>
        </div>
        <div class="col-sm-4 col-md-4">
          <div class="input-group">
            <select class="form-control"  ng-model="unidad" ng-options="unidad.id as unidad.nombre for unidad in unidades" ng-change="buscaxUnidad(unidad)" >
              <option value="">Unidad</option>
            </select>
          </div>
        </div>
        <div class="col-sm-2 col-md-2">
              <select class="form-control m-b" ng-model="estatus" ng-change="filtrarx()" required>
                  <option value=""> Filtra x </option>
                  <option value="no autorizado"> No Autorizado </option>
                  <option value="autorizado"> Autorizado </option>
              </select>
        </div>
    </div>
    <br>
    <div class="gridStyle" ng-grid="gridOptions"></div>
    <br>
    <div class="row">
        <div class="col-sm-3 col-md-3">
            Seleccionar los primeros:
            <div class="btn-toolbar" role="toolbar">
                <div class="btn-group">
                    <button type="button"  ng-click="selecciona(10)" class="btn btn-default">10</button>
                    <button type="button"  ng-click="selecciona(20)" class="btn btn-default">20</button>
                    <button type="button"  ng-click="selecciona(30)" class="btn btn-default">30</button>
                    <button type="button"  ng-click="selecciona(40)" class="btn btn-default">40</button>
                    <button type="button"  ng-click="selecciona(50)" class="btn btn-default">50</button>
                </div>
            </div>
        </div> 
        <div class="col-sm-3 col-md-3">
            <br>
            <button type="button" ng-disabled="selectos.length == 0" class="btn btn-default btn-block" ng-click="quitaselectos()">Quitar Selección</button>
        </div> 
    </div> 
    <br>
    <div class="row">
        <div class="col-sm-3 col-md-3">
            <button type="button" ng-disabled="listado.length == 0" class="btn btn-success btn-block" ng-click="generarListado()">Exportar Listado</button>
        </div>
        <div class="col-sm-3 col-md-3">
            <button  ng-click="enviaFolios()" ng-disabled="selectedRows.length == 0" id="boton1" class="btn btn-primary"> Acepta Folios a Pago</button>
        </div>
        <div class="col-sm-3 col-md-3">
            <button  ng-click="enviaxCorreo()" ng-disabled="selectedRows.length == 0" id="boton1" class="btn btn-warning"> Envia a SAFE DATA</button>
        </div>
        <div class="col-sm-3 col-md-3">
            <button  ng-click="rechazaFactura()" ng-disabled="selectedRows.length == 0" id="boton1" class="btn btn-danger"> Rechazar Factura</button>
        </div>
    </div> 
    <br>
    <br>
</div>

<!--Ventana para mostrar los folios que se no se generaron-->
<div class="modal fade" id="modalEx" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="myModalLabel">Rechazo de Factura <strong>{{ folioRechazado }}</strong></h3>
      </div>
      <div class="modal-body">
        <h3>** ¿Cual es el motivo de tu rechazo? **</h3>
          <div class="row">
            <div class="col-md-12">
            
              <label for="descripcion">Observación</label>
              <textarea name="descripcion" id="descripcion" class="form-control " ng-model="datos.observacion" rows="5" ng-disabled="editafactura" mayusculas required></textarea>
              
            </div>
          </div>    
           <hr>
      </div>
      <div class="modal-footer text-center">
            <button  ng-click="enviaRechazo()" class="btn btn-primary"> Envia Rechazo </button>
            <button type="button" class="btn btn-success" data-dismiss="modal">Cerrar Ventana </button>
      </div>
    </div>
  </div>
</div>


<script>
    $.datepicker.setDefaults($.datepicker.regional["es"]);
    // $( "#datepicker" ).datepicker({showButtonPanel: true});
    // $( "#datepicker2" ).datepicker({showButtonPanel: true});
    $( "#datepicker" ).datepicker({
      defaultDate: "+1w",
      showButtonPanel: true,
      changeMonth: true,
      numberOfMonths: 1,
      onClose: function( selectedDate ) {
        $( "#datepicker2" ).datepicker( "option", "minDate", selectedDate );
      }
    });
    $( "#datepicker2" ).datepicker({
      defaultDate: "+1w",
      showButtonPanel: true,
      changeMonth: true,
      numberOfMonths: 1,
      onClose: function( selectedDate ) {
        $( "#datepicker" ).datepicker( "option", "maxDate", selectedDate );
      }
    });

</script>